<%@ Page Language="C#" MasterPageFile="~/AdminEx.Master"  AutoEventWireup="true" MaintainScrollPositionOnPostback="true" CodeBehind="~/InformationImageMaster.aspx.cs" Inherits="Admin_CommTrex.InformationImageMaster" %>

<asp:Content ID="contChild_Header" ContentPlaceHolderID="contHeadContent" runat="server">
    <!-- For grid stylings as dynamic table-->
    <link href="AdminExContent/js/advanced-datatable/css/demo_page.css" rel="stylesheet" />
    <link href="AdminExContent/js/advanced-datatable/css/demo_table.css" rel="stylesheet" />
    <link href="AdminExContent/js/data-tables/DT_bootstrap.css" rel="stylesheet" />

    <!--file upload-->
    <link href="AdminExContent/css/bootstrap-fileupload.min.css" rel="stylesheet" />
    
    <!--tags input-->
    <link href="AdminExContent/js/jquery-tags-input/jquery.tagsinput.css" rel="stylesheet" />

</asp:Content>

<asp:Content ID="contChild_ExHeader" ContentPlaceHolderID="CntAdminEx_Header" runat="server">
    <div class="page-heading">
        <h3>Add/Modify/Delete Information Image details</h3>
        <ul class="breadcrumb">
                <li>
                    <a href="#"> Master </a>
                </li>
                <li class="active"> Information Image Master </li>
        </ul>
    </div>
</asp:Content>

<asp:Content ID="contChild_ExBody" ContentPlaceHolderID="CntAdminEx_Body" runat="server">
        <asp:HiddenField ID="activeTab" EnableViewState ="true" runat="server" value="addproducts"/>
        <div class="col-lg-12">
            <section class="panel" id="pnlInformationImageMaster">
                <header class="panel-heading custom-tab ">
                    <ul class="nav nav-tabs">
                        <li class="active" id="tab_addproducts">
                            <a href="#addInformationImg" data-toggle="tab">Add Information Image</a>
                        </li>
                         <li class="" id="Li1">
                            <a href="#importproducts" data-toggle="tab">Import Images From Excel</a>
                        </li>
                        <li class="" id="tab_modifyproducts">
                            <a href="#modifyInformationImg" data-toggle="tab">View/Modify Information Image</a>
                        </li>
                    </ul>
                </header>
                <div class="panel-body">
                    <div class="tab-content">
                        <div class="tab-pane active" id="addInformationImg">
                            <!-- SSK Add Information Image Here -->
                            <div class="row">
                                <section class="panel">
                                    <header class="panel-heading">
                                        Information Image details
							                <span class="tools pull-right">
                                                <a href="javascript:;" class="fa fa-chevron-up"></a>
                                                <span class="collapsible-server-hidden">
                                                    <asp:HiddenField runat="server" ID="HiddenField1" EnableViewState="true" Value="c" />
                                                </span>
                                            </span>
                                    </header>
                                    <div class="panel-body collapse">
                                        <div class="form-horizontal adminex-form">
                                            <div class="form-group">
                                                <label class="col-sm-2 col-sm-2 control-label">Information Image ID</label>
                                                <div class="col-sm-10">
                                                    <asp:TextBox ID="txtInformImageId" name="txtInformImageId" runat="server" CssClass="form-control tooltips" data-trigger="hover" Enabled="false"
                                                        data-toggle="tooltip" title="" placeholder="Autogenerated Sub category id" data-original-title="Generated Sub category id when Sub Category is added"></asp:TextBox>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-2 col-sm-2 control-label">Information Title</label>
                                                <div class="col-sm-10">
                                                    <asp:DropDownList ID="cmbInformationType" runat="server" Font-Bold="True" Enabled="false" AutoPostBack="True"  CssClass="form-control m-bot15" OnSelectedIndexChanged="cmbInformationType_SelectedIndexChanged">
                                                    </asp:DropDownList>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-2 col-sm-2 control-label">Regional Title </label>
                                                <div class="col-sm-10">
                                                    <asp:TextBox ID="txtInformationRegName" name="txtInformationRegName" runat="server"  Enabled="false" CssClass="form-control tooltips" data-trigger="hover" data-toggle="tooltip" title="" placeholder="Regional Name of Information" data-original-title="Set regional name of the Information" ></asp:TextBox>
                                                    <asp:TextBox ID="txtRegName" name="txtRegName" runat="server"  Visible="false" CssClass="form-control tooltips" data-trigger="hover" data-toggle="tooltip" title="" placeholder="Regional Name of Information" data-original-title="Set regional name of the Information" ></asp:TextBox>
                                                </div>
                                            </div>

                                            
                                             <div class="form-group">
                                                 <label class="col-sm-2 col-sm-2 control-label">Select an Image </label>
                                                  <div class="col-sm-10" >
                                                      <!--myImageModal-->
                                                <button class="btn btn-success" type="button" 
                                                    data-toggle="modal" data-target="#myImageModal" disabled="true" btn-action-image="Class" 
                                                    runat="server" id="CustImg">
                                                    <i class="fa fa-folder-open"></i> Browse Images
                                                </button>
                                                      <asp:Label ID="lblErrorMsg" Visible="false" runat="server" Text="Maximum of 8 images are allowed" ForeColor="#ff0000"></asp:Label>
                                                  <asp:TextBox ID="hfImgCount" name="hfImgCount" runat="server" Text="0" visible="false"></asp:TextBox>  
                                                      </div>
                                            </div><!--//row buttons -->

                                            <div class="form-group">
                                                 <asp:PlaceHolder ID="DBDataPlaceHolder" runat="server"></asp:PlaceHolder> 
                                            </div><!--//row buttons -->

                                        </div>
                                        <!--//Form-horizonal-->
                                    </div>
                                    <!--//panel body-->
                                </section>
                                <!--//panel-->
                            </div> <!--//row basic details-->
                            
                            <div class="row">
                                <div class="col-lg-12">
                                    <section class="panel">
                                        <div class="panel-body" style="text-align:center">
                                            <button class="pnl-opener btn btn-success" type="button"
                                                            btn-action="New"  data-open-on="Save" data-open-panels="pnlInformationImageMaster"
                                                            runat="server" id="btnInformationSave" onserverclick="btnInformationSave_ServerClick" >
                                                            New <i class="fa fa-plus-square"></i>
                                            </button>
                                            <button class="btn btn-info" type="button"
                                                            runat="server" id="btnInformationClear" onserverclick="btnInformationClear_ServerClick">
                                                            Clear <i class="fa fa-refresh"></i>
                                            </button>
                                        </div>
                                        <div class="panel-body">
                                            <div class="alert alert-info" style="padding: 8px;" runat="server" id="actionInfo">
                                                Press New to form Information Image gallery.
                                            </div>
                                        </div>
                                    </section> <!-- //panel -->
                                </div><!-- //Grid 12 -->
                            </div><!--//row buttons -->

                            <!-- Thumbnail view modal -->

                           
                            <!-- //Thumbnail view modal -->

                            <!-- //SSK's Add Sub category code Here -->

                        </div> <!--//Add Sub category tab-->




                        <!--Select image form modal-->
                                     <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myImageModal" class="modal fade">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                                                    <h4 class="modal-title"><label id="lblImageFormTile" runat="server">Information Image</label></h4>
                                                </div>
                                               
                                                 <div class="modal-body">
                                                     <form class="form-horizontal" role="form">
                                                     <div class="form-group">
                                                        <div class="fileupload fileupload-new" data-provides="fileupload">
                                                            <div class="fileupload-new thumbnail" style="width: 200px; height: 150px;">
                                                                <asp:Image ID="MainImage" runat="server" AlternateText="No Image"/>
                                                            </div>
                                                            <div class="fileupload-preview fileupload-exists thumbnail" style="max-width: 200px; max-height: 150px; line-height: 20px;"></div>
                                                            <div>
                                                            <span class="btn btn-default btn-file">
                                                                <span class="fileupload-new"><i class="fa fa-paper-clip"></i>Select an image</span>
                                                                <span class="fileupload-exists"><i class="fa fa-undo"></i> Change</span>
                                                                <asp:TextBox ID="txtAddImgPath" name="txtAddImgPath" class="txtAddDesign" runat="server" Visible="false" Text='<%# Eval("IIG_vCharImagePath") %>'></asp:TextBox>
                                                                <asp:TextBox ID="txtAddMainImgPath" name="txtAddMainImgPath" class="txtAddDesign" runat="server" Visible="false" Text='<%# Eval("IIG_vCharImagePath") %>'></asp:TextBox>
                                                                <asp:FileUpload ID="FileUploadControl" runat="server" class="default" />
                                                            </span>
                                                            <a href="#" class="btn btn-danger fileupload-exists" data-dismiss="fileupload"><i class="fa fa-trash"></i> Remove</a>
                                                            </div>
                                                        </div>
                                                        </div>
                                                         <div class="form-group">
                                                            <div class="form-group">
                                                                <label>* Description</label>
                                                                <asp:Textbox TextMode="MultiLine" ID="txtImgName" runat="server" class="form-control"></asp:Textbox>
                                                            </div>
                                                            <div class="form-group">
                                                                <label>* Description in Regional Language</label>
                                                                <asp:Textbox TextMode="MultiLine" ID="txtImgDescription" rows="2" runat="server" class="form-control"></asp:Textbox>
                                                            </div>
                                                 <div class="form-group">
                                                <label>* Set as Default Image</label>
                                                <div>
                                                    <asp:DropDownList ID="cmbImageIsActive" runat="server" Font-Bold="True"  AutoPostBack="false"  CssClass="form-control m-bot15">
                                                        <asp:ListItem Text="--Select Choice--" Value="0"></asp:ListItem>
                                                        <asp:ListItem Text="Yes" Value="1"></asp:ListItem>   
                                                        <asp:ListItem Text="No" Value="2"></asp:ListItem>   
                                                    </asp:DropDownList>
                                                </div>
                                            </div>
                                                        </div>
                                                         <br/>
                                                             <div class="pull-right">
                                                                <button id="btnImgUpload" type="submit" class="btn btn-primary" runat="server" data-toggle="modal" data-target="#modSendingMessage"  onserverclick="btnImgUpload_ServerClick" >Upload</button>
                                                                <button id="btnImgCancel" type="submit" class="btn btn-primary" runat="server" >Cancel</button>
                                                            </div>
                                                          <br />
                                                        </form>
                                                    </div>
                                             </div>
                                        </div>
                                        </div>
                          <!--End of Select image form modal-->
                    
                        <!--Begin of image loading form-->

       <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="modSendingMessage" class="modal fade" style="width:100%;">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Image Uploading in progress...</h4>
                    </div>
                    <div class="modal-body">
                        Please wait for few minutes...
                                        <br />
                        <div style="text-align: center">
                            <img src="images/loading-blue.gif" alt="Please wait" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
                        <!--End of image loading form-->


   

                        <%--Model for Image import--%>
                        <div class="tab-pane" id="importproducts">
                            <div class="row">
                                <section class="panel" id="pnlInformation">
                                    <header class="panel-heading">
                                        Information details
							                <span class="tools pull-right">
                                                <a href="javascript:;" class="fa fa-chevron-down"></a>
                                                <span class="collapsible-server-hidden">
                                                    <asp:HiddenField runat="server" ID="HiddenField3" EnableViewState="true" Value="o" />
                                                </span>
                                            </span>
                                    </header>
                                    <div class="panel-body">
                                        <div class="form-horizontal adminex-form">
                           
                               <div class="row">
                                <div class="col-lg-12">
                                    <section class="panel">
                                        <div class="panel-body">
               
                           <%--             </div>
                                         <div class="panel-body" >--%>
                                                <%-- <form class="form-inline" role="form">   --%>           
                                                 <div class="form-group">               
                                                           <label class="col-sm-2 col-sm-2 control-label">Select an Excel Sheet: </label>
                                                           <div class="col-sm-10"><asp:FileUpload ID="FileUpload1" runat="server" class="default" /></div>
                                                     <br /><label style="color:red;">*Note : Excel named MStore.xlxs or MStoreBusiness.xlxs</label>
                                                </div>
                                                
                                                <div class="form-group">  
                                                           <label class="col-sm-2 col-sm-2 control-label">Select an Images: </label>
                                                           <div class="col-sm-10"><input type="file" multiple="multiple" name="fileuploadimages" id="file1" runat="server" /></div>   
                                                <br /><label style="color:red;">*Note : Image size should be between 64X64 and 256X256 pixels.</label>
                                                </div>

                                            <div  class="form-group" style="text-align:center;">
                                              <button class="btn btn-success" type="button" 
                                                    data-toggle="modal" data-target="#modPasswordBox2"  btn-action-image="Class" 
                                                    runat="server" id="btnImportToExcel">
                                                    <i class="fa fa-folder-open"></i> Import From Excel
                                                </button>
                                            </div>



                                          </div>
                                                 <%--</form>--%>
                                    </section> <!-- //panel -->
                                             <div class="alert alert-info" style="padding: 8px;" runat="server" id="Div2">
                                                Press to read data from excel sheet.
                                            </div>
                                </div><!-- //Grid 12 -->
                            </div><!--//row buttons -->                                                                                                              <%-- Model for excel password box--%>



                                        </div>
                                    </div>
                                    </section>
                            </div>
                           </div>
                        <%--End of Model for Image import--%>

                                                                           <%--Excel password box--%>
  <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="modPasswordBox2" class="modal fade">
  <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                                            <center><h4 class="modal-title">Information Image</h4></center>
                                        </div>
                                        <div class="modal-body">
                                           <%-- <form class="form-horizontal" role="form"> --%>                                                  
                                                       <div class="form-group">
                                                            <label for="inputPWd" >Please Input Login Password to proceed : </label>                                                            
                                                            <asp:TextBox TextMode="Password" ID="txtCode" AutoComplete="New-Password" name="txtCode" class="form-control" runat="server"></asp:TextBox><br /><br />
                                                           <label runat="server" id="lblMsgError" style="color:red;" visible="false">* Password is mandatory for upload.</label>
                                                      </div>
                                                      <div class="col-lg-offset-2 col-lg-10">
                                                                        <button class="btn btn-success" type="button"
                                                                        runat="server" id="btnImportonPassword"  onserverclick="btnImportonPassword_ServerClick" >
                                                                        <i class="fa fa-upload"></i> Upload
                                                                        </button>
                                                      </div>                                              
                                           <%-- </form>--%>
                                        </div>
                                    </div>
      </div>
      </div>
    <%--End model for excel password box--%>


                        <!--Modify Information Image Details-->

                        <div class="tab-pane" id="modifyInformationImg">
                            <div class="form-group">
                                <div class="alert alert-info" runat="server" id="updateActionDiv">
                                    Click on respective buttons for Modify / Delete.
                                </div>
                            </div>
                            <div class="adv-table nice-scroll-grid">
                                <asp:GridView ID="grdInformationImages" runat="server" 
                                    EnableModelValidation="True"  AutoGenerateColumns="False" 
                                    OnRowDataBound="grdInformationImages_RowDataBound"
                                    OnRowEditing="grdInformationImages_RowEditing"
                                    OnRowCancelingEdit="grdInformationImages_RowCancelingEdit"
                                    OnRowUpdating="grdInformationImages_RowUpdating"
                                    RowStyle-CssClass="gradeA"
                                    class="dynamic-table-grid display table table-bordered table-striped">
                                    <Columns>

                                        <asp:TemplateField HeaderText="ID">
                                            <ItemTemplate>
                                                <asp:Label ID="lblInformationImgID" runat="server" Text='<%# Eval("IIG_bIntId") %>'></asp:Label>
                                            </ItemTemplate>
                                        </asp:TemplateField>

                                         <asp:TemplateField HeaderText="Information Name">

                                            <ItemTemplate>
                                                <asp:Label ID="lblInformationName" runat="server" Text='<%# Eval("IM_vCharInfoName_En") %>'  visible="true"></asp:Label>
                                                <asp:DropDownList ID="drdlInformationNm" Visible="false" AppendDataBoundItems="true" Width="150px" runat="server">
                                                </asp:DropDownList>
                                             </ItemTemplate>
                                        </asp:TemplateField>

           
                                        <asp:TemplateField HeaderText="Information Regional Name">

                                            <ItemTemplate>
                                                <asp:Label ID="lblInformationRegName" runat="server" Text='<%# Eval("IM_nVarInfoName_Reg") %>'></asp:Label>
                                            </ItemTemplate>

                                        </asp:TemplateField>


                                         <asp:TemplateField HeaderText="Image">
                                            <ItemTemplate>
                                                <asp:Image ID="imgInformationImagePath" ToolTip='<%# Eval("ImageName") %>' ImageUrl='<%# Eval("IIG_vCharImagePath") %>' runat="server" Height="100" Width="100" />
                                                 <asp:Label ID="lblimgInformationImagePath" Visible="false" runat="server" Text='<%# Eval("IIG_vCharImagePath") %>'></asp:Label>
                                            </ItemTemplate>
                                        </asp:TemplateField>

                                        <asp:TemplateField HeaderText="Action" HeaderStyle-CssClass="nosort">
                                            <ItemTemplate>
                                               <button class="btn btn-success" type="button" 
                                                    data-toggle="modal" data-target="#myImageModal" disabled="true" btn-action-image="Class" 
                                                    runat="server" id="gridViewCustImg1">
                                                    <i class="fa fa-plus-square"></i> Modify Image
                                                </button>
                                             </ItemTemplate>
                                            <EditItemTemplate>
                                                <a id="cmdModify" class="modify" runat="server" 
                                                    data-modifyimageinfo-path='<%# Eval("IIG_vCharImagePath") %>'
                                                    data-modifyinfo-name='<%# Eval("IIG_vCharImageDescription_En") %>' data-modifyinfo-regname='<%# Eval("IIG_nVarImageDescription_Reg") %>' href="javascript:;">Modify Image
                                                </a>
                                            </EditItemTemplate>

                                        </asp:TemplateField>
                                         
                                        <asp:CommandField ShowEditButton="True" HeaderStyle-CssClass="nosort"/>
                                        
                                        <asp:TemplateField  HeaderStyle-CssClass="nosort">
                                            <ItemTemplate>
                                                <a id="cmdDelete" class="delete" runat="server" 
                                                    data-delimageinfo-id='<%# Eval("IIG_bIntId") %>' data-delinfo-path='<%# Eval("IIG_vCharImagePath") %>'
                                                    data-delinfo-name='<%# Eval("IIG_vCharImageDescription_En") %>' data-delinfo-regname='<%# Eval("IIG_nVarImageDescription_Reg") %>' href="javascript:;">Delete</a>
                                            </ItemTemplate>
                                        </asp:TemplateField>

                                    </Columns>
                                </asp:GridView>
                            </div>
                            </div> <!-- //end of modify sub category tab -->

                                                                    
                                        </div><!-- //modal body -->
                                    </div> <!-- //modal content -->
                                </div> <!-- //modal dialog -->
                            </div> <!-- //dialog -->
                        </div> <!-- Modify product tab-->


                            <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="modDeleteConfirm" class="modal fade">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                                            <h4 class="modal-title">Delete the Information Image Gallery.</h4>
                                        </div>
                                        <div class="modal-body">

                                            <div role="form">
                                                <div class="form-group">
                                                    <h3>Are you sure you want to delete image gallery for given Information ?</h3>
                                                </div>
                                                <div class="form-group">
                                                    <div class="row">
                                                        <label class="col-sm-2 col-sm-2 control-label">ID </label>
                                                        <div class="col-sm-10">
                                                            <asp:TextBox ID="txtDelInformationImgId" name="txtDelInformationImgId" runat="server" CssClass="form-control" Enabled="false"></asp:TextBox>
                                                            <asp:HiddenField ID="txtDelInformationImgIdHiden" runat="server" />
                                                        </div>
                                                    </div>
                                                </div> <!-- Id -->


                                                <div class="form-group">
                                                    <div class="row">
                                                        <label class="col-sm-2 col-sm-2 control-label">Information Title</label>
                                                        <div class="col-sm-10">
                                                            <asp:TextBox ID="txtDelInformationTitleName" name="txtDelInformationTitleName" runat="server" CssClass="form-control" Enabled="false"></asp:TextBox>
                                                        </div>
                                                    </div>
                                                </div> <!-- Name -->

                                                <div class="form-group">
                                                    <div class="row">
                                                        <label class="col-sm-2 col-sm-2 control-label">Information Title</label>
                                                        <div class="col-sm-10">
                                                            <asp:TextBox ID="txtDelInformationRegionalName" name="txtDelInformationRegionalName" runat="server" CssClass="form-control" Enabled="false"></asp:TextBox>
                                                        </div>
                                                    </div>
                                                </div> <!-- Name -->

                                                <div class="form-group">
                                                    <div class="row">
                                                        <label class="col-sm-2 col-sm-2 control-label">Reason </label>
                                                        <div class="col-sm-10">
                                                            <asp:TextBox ID="txtDelInformationReason" name="txtDelInformationReason" runat="server" TextMode="MultiLine" Rows="5" Columns="30"
                                                                CssClass="form-control tooltips" data-trigger="hover" data-toggle="tooltip" title=""
                                                                placeholder="Information Image Gallery deletion reason" data-original-title="Type reason for the Information Image Gallery deletion here."></asp:TextBox>
                                                            <asp:HiddenField ID="txtDelInformationImagePath" runat="server" ></asp:HiddenField>
                                                        </div>
                                                    </div>
                                                </div> <!-- Reason -->
                                                
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="panel-body" style="text-align: center">
                                                            <button class="btn btn-success" type="button"
                                                                runat="server" id="btnDeleteInformationImg"  onserverclick="btnDeleteInformationImg_ServerClick">
                                                                <i class="fa fa-trash"></i> Delete Product
                                                            </button>
                                                            <button class="btn btn-danger" type="button"
                                                                id="btnCancelDeleteInformationImg">
                                                                Cancel <i class="fa fa-times-circle"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div> <!-- Action Buttons -->

                                            </div><!-- //form -->
                                        </div><!-- //modal body -->
                                    </div> <!-- //modal content -->
                                </div> <!-- //modal dialog -->
                            </div> <!-- //dialog -->
                        </div> <!-- Modify product tab-->

                        <!------------------------------>
                            </section> <!-- Panel Body Main -->
                     </div><!-- Main Row -->
</asp:Content>
<asp:Content ID="contChild_PageLevelScripts" ContentPlaceHolderID="Cnt_PageLevelScripts" runat="server">
    
    <!--file upload-->
    <script type="text/javascript" src="AdminExContent/js/bootstrap-fileupload.min.js"></script>
    <!--tags input-->
    <script src="AdminExContent/js/jquery-tags-input/jquery.tagsinput.js"></script>
    <script src="AdminExContent/js/tagsinput-init.js"></script>
    <!--bootstrap input mask-->
    <script type="text/javascript" src="AdminExContent/js/bootstrap-inputmask/bootstrap-inputmask.min.js"></script>


    <!--dynamic table-->
    <script type="text/javascript" src="AdminExContent/js/advanced-datatable/js/jquery.dataTables.js"></script>
    <script type="text/javascript" src="AdminExContent/js/data-tables/DT_bootstrap.js"></script>

    <!--dynamic table initialization -->
    <script  type="text/javascript"  src="js/pagesjs/ImageInformation.aspx.js"></script>
</asp:Content>


